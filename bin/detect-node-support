#!/usr/bin/env node

'use strict';

const NodeSupport = require('..');

const internals = {};

internals.help = () => {

    return `Usage: detect-node-support [ path | Github URL | npm package name ]`;
};

exports.main = async ([nodeBin, thisBin, what]) => {

    if (!what) {
        console.log(internals.help());
        return;
    }

    const result = await NodeSupport.detect(what);

    console.log(result);
};

exports.main(process.argv)
    .catch((err) => {

        console.error(err);
        console.log(internals.help());
        process.exit(1);
    });
